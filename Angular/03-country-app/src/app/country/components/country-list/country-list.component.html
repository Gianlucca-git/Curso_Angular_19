<section>
  <div class="overflow-x-auto">
    <table class="table">
      <!-- head -->
      <thead>
      <tr>
        <th>Country</th>
        <th>Region / Sub region</th>
        <th>Capital / Region</th>
        <th>Indicative</th>
        <th>Population</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <!-- row 1 -->
        @for (country of countries(); track country.id) {

          <tr>
            <td>
              <div class="flex items-center gap-3">
                <div class="avatar">
                  <div class="mask mask-squircle h-12 w-12">
                    <img [src]="country.img" [alt]="country.name"/>
                  </div>
                </div>
                <div>
                  <div class="font-bold">{{ country.name }}</div>
                  <div class="text-sm opacity-50">{{ country.nameOfficial }}</div>
                </div>
              </div>
            </td>
            <td>
              <div class="font-bold"> - {{ country.region }}</div>
              <span class="badge badge-ghost badge-sm">{{ country.subregion }}</span>
            </td>
            <td>{{ country.capital }}</td>
            <td>{{ country.indicative }}</td>
            <td>
              <span class="badge badge-soft">
                {{ country.population | number }}
              </span>
            </td>
            <th>
              <button
                [routerLink]="['/country/by/', country.id]"
                class="btn btn-ghost btn-xs bg-blue-800">
                Details
              </button>
            </th>
          </tr>
        }

        @if (errorMessage()) {
          <tr>
            <td colspan="8" class="text-center">
              {{ errorMessage() }}
            </td>
          </tr>
        }
        @if (countries().length == 0 && !isLoading()) {
          <tr>
            <td colspan="8" class="text-center">
              No found results.
            </td>
          </tr>
        }
        @if (isLoading()) {
          <tr>
            <td colspan="8" class="text-center">
              Loading...
            </td>
          </tr>
        }

      </tbody>
      <!-- foot -->
      <!--      <tfoot>-->
      <!--      <tr>-->
      <!--        <th>Country</th>-->
      <!--        <th>Region / Sub region</th>-->
      <!--        <th>Capital</th>-->
      <!--        <th>Indicative</th>-->
      <!--        <th>Population</th>-->
      <!--        <th></th>-->
      <!--      </tr>-->
      <!--      </tfoot>-->
    </table>
  </div>
</section>
